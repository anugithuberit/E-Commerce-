<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Products | E-Commerce</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body id="top">

<!-- ================= HEADER STARTS ================= -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
  <a class="navbar-brand" href="index.html">
    <img src="assets/images/logo.jpg" width="120" alt="logo">
  </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav mx-auto">
      <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
      <li class="nav-item active"><a class="nav-link" href="product.html">Products</a></li>
      <li class="nav-item"><a class="nav-link" href="category.html">Category</a></li>
      <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
      <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
    </ul>

    <a href="cart.html" class="btn btn-outline-primary">
      <i class="fas fa-shopping-cart"></i>
    </a>
  </div>
</nav>

<!-- ================= cart page section ================= -->
<section class="cart py-5" id="cart">
  <div class="container">

    <div class="section_title text-center mb-5">
      <h1 class="text-capitalize">Cart</h1>
    </div>

    <div class="row bg_cart_1 rounded">

      <!-- ================= LEFT : CART ITEMS ================= -->
      <div class="col-md-8 border-right">

        <div class="pt-4">
          <h5 class="cart-heading mb-4">Cart (<span>2</span> items)</h5>


          <!-- ===== ITEM 1 ===== -->
          <div class="row mb-4">
            <div class="col-md-5 col-lg-3 col-xl-3">
              <div class="rounded mb-3 mb-md-0">
                <img src="assets/images/in1.jpg"
                     class="img-fluid w-100 rounded"
                     alt="Sample">
              </div>
            </div>

            <div class="col-md-7 col-lg-9 col-xl-9">
              <div class="d-flex justify-content-between">

                <div>
                  <h5>Blue denim Jacket</h5>
                  <p class="mb-1 text-muted text-uppercase small">Shirt - Blue</p>
                  <p class="mb-1 text-muted text-uppercase small">Color: Blue</p>
                  <p class="mb-3 text-muted text-uppercase small">Size: M</p>
                </div>

                <div>
                  <div class="mb-0 w-100">
                    <button
                      onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                      class="btn btn-sm btn-outline-primary">
                      <i class="fas fa-minus"></i>
                    </button>

                    <input class="quantity text-center"
                           min="0" max="10"
                           name="quantity"
                           value="1"
                           type="number">

                    <button
                      onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                      class="btn btn-sm btn-outline-primary">
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>

                  <small class="form-text text-muted text-center">
                    (Note, 1 piece)
                  </small>
                </div>
              </div>

              <div class="d-flex justify-content-between align-items-center mt-3">
                <a href="javascript:;" class="small text-uppercase mr-3">
                  <i class="fas fa-trash-alt mr-1"></i> Remove item
                </a>
                <p class="mb-0"><strong>₹17.99</strong></p>
              </div>
            </div>
          </div>

          <hr>

          <!-- ===== ITEM 2 ===== -->
          <div class="row mb-4">
            <div class="col-md-5 col-lg-3 col-xl-3">
              <div class="rounded mb-3 mb-md-0">
                <img src="assets/images/istudio.jpg"
                     class="img-fluid w-100 rounded"
                     alt="Sample">
              </div>
            </div>

            <div class="col-md-7 col-lg-9 col-xl-9">
              <div class="d-flex justify-content-between">

                <div>
                  <h5>iStudio tshirt</h5>
                  <p class="mb-1 text-muted text-uppercase small">Shirt - Red</p>
                  <p class="mb-1 text-muted text-uppercase small">Color: Red</p>
                  <p class="mb-3 text-muted text-uppercase small">Size: M</p>
                </div>

                <div>
                  <div class="mb-0 w-100">
                    <button
                      onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                      class="btn btn-sm btn-outline-primary">
                      <i class="fas fa-minus"></i>
                    </button>

                    <input class="quantity text-center"
                           min="0" max="10"
                           name="quantity"
                           value="1"
                           type="number">

                    <button
                      onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                      class="btn btn-sm btn-outline-primary">
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>

                  <small class="form-text text-muted text-center">
                    (Note, 1 piece)
                  </small>
                </div>
              </div>

              <div class="d-flex justify-content-between align-items-center mt-3">
                <a href="javascript:;" class="small text-uppercase mr-3">
                  <i class="fas fa-trash-alt mr-1"></i> Remove item
                </a>
                <p class="mb-0"><strong>₹35.99</strong></p>
              </div>
            </div>
          </div>

        </div>
      </div>

<!--order summary -->      
<div class="col-md-4">
  <div class="order-summary-box">
    <h5 class="mb-3">Order summary</h5>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        Product name 1
        <span>x2</span>
        <span>₹25.98</span>
      </li>
      <li class="list-group-item">
        Product name 2
        <span>x2</span>
        <span>₹25.98</span>
      </li>
      <li class="list-group-item border-top">
        <div>
          <strong>Total amount</strong>
          <p class="mb-0">(including VAT)</p>
        </div>
        <span><strong>₹53.98</strong></span>
      </li>
    </ul>
    <a href="checkout.html" class="btn btn-primary btn-block">Go to Checkout</a>
  </div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

const cartItemsDiv = document.getElementById("cartItems");
const cartCountSpan = document.querySelector(".cart-heading span");
const orderSummary = document.querySelector(".order-summary-box ul");

function renderCart() {
  cartItemsDiv.innerHTML = "";
  orderSummary.innerHTML = "";

  let total = 0;
  let totalItems = 0;

  if (cart.length === 0) {
    cartItemsDiv.innerHTML = "<p>Your cart is empty.</p>";
    cartCountSpan.innerText = 0;
    orderSummary.innerHTML = `
      <li class="list-group-item d-flex justify-content-between">
        <strong>Total amount</strong>
        <strong>₹0</strong>
      </li>`;
    return;
  }

  cart.forEach((item, index) => {
    let itemTotal = item.price * item.quantity;
    total += itemTotal;
    totalItems += item.quantity;

    cartItemsDiv.innerHTML += `
      <div class="row align-items-center mb-4">

        <div class="col-md-3">
          <img src="${item.image}" class="img-fluid rounded">
        </div>

        <div class="col-md-5">
          <h5 class="mb-1">${item.name}</h5>
          <p class="text-muted small mb-1">SHIRT - ${item.color}</p>
          <p class="text-muted small mb-1">COLOR: ${item.color}</p>
          <p class="text-muted small mb-2">SIZE: ${item.size}</p>

          <a href="javascript:;" class="text-primary small"
             onclick="removeItem(${index})">
            <i class="fas fa-trash-alt"></i> REMOVE ITEM
          </a>
        </div>

        <div class="col-md-2 text-center">
          <div class="d-flex justify-content-center align-items-center">
            <button class="btn btn-outline-primary btn-sm"
              onclick="updateQty(${index}, -1)">−</button>

            <input type="text"
              class="form-control text-center mx-2"
              style="width:50px;"
              value="${item.quantity}" readonly>

            <button class="btn btn-outline-primary btn-sm"
              onclick="updateQty(${index}, 1)">+</button>
          </div>
          <small class="text-muted">(Note, 1 piece)</small>
        </div>

        <div class="col-md-2 text-right">
          <strong>₹${itemTotal.toFixed(2)}</strong>
        </div>

      </div>
    `;

    orderSummary.innerHTML += `
      <li class="list-group-item d-flex justify-content-between">
        ${item.name} x${item.quantity}
        <span>₹${itemTotal.toFixed(2)}</span>
      </li>
    `;
  });

  cartCountSpan.innerText = totalItems;

  orderSummary.innerHTML += `
    <li class="list-group-item border-top d-flex justify-content-between">
      <div>
        <strong>Total amount</strong>
        <p class="mb-0 small">(including VAT)</p>
      </div>
      <strong>₹${total.toFixed(2)}</strong>
    </li>
  `;

  localStorage.setItem("cart", JSON.stringify(cart));
}

function updateQty(index, change) {
  cart[index].quantity += change;

  if (cart[index].quantity <= 0) {
    cart.splice(index, 1);
  }

  renderCart();
}

function removeItem(index) {
  cart.splice(index, 1);
  renderCart();
}

renderCart();
</script>


<!-- ================= FOOTER ================= -->
<footer class="pt-5" style="background:#f8f9fa;">
    <div class="container">
      <div class="row">

        <div class="col-md-3">
          <img src="assets/images/logo.jpg" width="140">
          <p class="mt-3">Quality products. Secure payments. Fast delivery.</p>
        </div>

        <div class="col-md-3">
          <h5>Quick Links</h5>
          <ul class="list-unstyled">
            <li>About</li>
            <li>Offers & Discounts</li>
            <li>Get Coupon</li>
            <li>Contact Us</li>
          </ul>
        </div>

        <div class="col-md-3">
          <h5>New Products</h5>
          <ul class="list-unstyled">
            <li>Woman Cloth</li>
            <li>Fashion Accessories</li>
            <li>Man Accessories</li>
            <li>Rubber made Toys</li>
          </ul>
        </div>

        <div class="col-md-3">
          <h5>Support</h5>
          <ul class="list-unstyled">
            <li>FAQs</li>
            <li>Terms & Conditions</li>
          </ul>
        </div>

      </div>
    </div>
  </footer>

  <!-- Bootstrap JS (REQUIRED for navbar toggle) -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>